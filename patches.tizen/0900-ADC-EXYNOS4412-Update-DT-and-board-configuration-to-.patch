From 47475fd3944d7ad8fc23679f097ef3f171bdd807 Mon Sep 17 00:00:00 2001
From: Jonghwa Lee <jonghwa3.lee@samsung.com>
Date: Fri, 1 Nov 2013 00:25:47 +0900
Subject: [PATCH 0900/1302] ADC: EXYNOS4412: Update DT and board configuration
 to enable ADC.

Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com>
---
 arch/arm/boot/dts/exynos4412-slp_pq.dts | 12 ++++++++++++
 arch/arm/configs/tizen_defconfig        |  2 +-
 2 files changed, 13 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/exynos4412-slp_pq.dts b/arch/arm/boot/dts/exynos4412-slp_pq.dts
index 86c6e5f..5c3bedd 100644
--- a/arch/arm/boot/dts/exynos4412-slp_pq.dts
+++ b/arch/arm/boot/dts/exynos4412-slp_pq.dts
@@ -1385,6 +1385,18 @@
 		status = "okay";
 		#phy-cells = <1>;
 	};
+
+	adc: adc@126C0000 {
+		compatible = "samsung,exynos-adc-v1";
+		reg = <0x126C0000 0x20>, <0x10020718 0x4>;
+		interrupt-parent = <&combiner>;
+		interrupts = <10 3>;
+		#io-channel-cells = <1>;
+		clocks = <&clock 326>;
+		clock-names = "adc";
+		vdd-supply = <&ldo3_reg>;
+		status = "ok";
+	};
 };
 
 &pinctrl_1 {
diff --git a/arch/arm/configs/tizen_defconfig b/arch/arm/configs/tizen_defconfig
index 1940a58..184e67c 100644
--- a/arch/arm/configs/tizen_defconfig
+++ b/arch/arm/configs/tizen_defconfig
@@ -2873,7 +2873,7 @@ CONFIG_IIO_ST_ACCEL_SPI_3AXIS=y
 # CONFIG_AD7793 is not set
 # CONFIG_AD7476 is not set
 # CONFIG_AD7887 is not set
-# CONFIG_EXYNOS_ADC is not set
+CONFIG_EXYNOS_ADC=y
 # CONFIG_MAX1363 is not set
 # CONFIG_TI_ADC081C is not set
 
-- 
1.8.3.2

